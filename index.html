<html>
<head>
    <title>Amicable Numbers</title>
</head>
<body>
    <h1>Amicable Numbers!</h1>
    <!-- get values from user -->
    <div>
        <form>
            <label for="firstnum">First number: </label>
            <input type="number" id="firstnum" name="num1" min = "0">
            <br><br>
            <label for="secondnum">Second number: </label>
            <input type="number" id="secondnum" name="num2" min = "0">
            <br><br>
            <input type="button" value="Check numbers" onclick="amicableNums()">
        </form>
    </div>

    <!-- display the results -->
    <div id = "result"></div>

    <!-- display all of the factors for each of the numbers -->
    <div id = "factors"></div>

    <!-- javascript -->
    <script>

        // purpose: determines whether the sum of factors of each of 
        //          two numbers are equivalent
        // input: two user-inputted numbers to determine if they are amicable
        // output: prints whether the two numbers are amicable, along with 
        //         each number's factors
        // return: none
        function amicableNums() {
            num1 = document.getElementById("firstnum").value;
            num2 = document.getElementById("secondnum").value;
            
            // get factors of both numbers and store in array
            factors1 = getFactors(num1);
            factors2 = getFactors(num2);

            // check if sums are equal
            if (addFactors(factors1) == addFactors(factors2)) {
                document.getElementById("result").innerHTML = "The numbers: "
                    + num1 + " and " + num2 + " are amicable"; 
            }
            else {
                document.getElementById("result").innerHTML = "The numbers: "
                    + num1 + " and " + num2 + " are not amicable";
            }

            document.getElementById("factors").innerHTML = 
            "<h3>Factors</h3>" + "Factors of " + num1 + ": " + factors1 + "<br/>" + 
            "Factors of " + num2 + ": " + factors2;
        }

        // purpose: finds all the factors of a number
        // input: number that user wants to get the factors of
        // output: none
        // return: array of all the factors of the number
        function getFactors(num) {
            factors = [];
            // edge case: 0 has no factors
            if (num == 0) {
                return factors;
            }
            for (i = 1; i <= (num/2 + 1); i++) {
                if (isAFactor(i, num)) {
                    factors.push(i);
                }
            }
            return factors;
        }
        
        // purpose: determines whether a given number is a factor of another given number
        // input: a number, x, that's checked against another number, original_num to see if it
        //        is a factor of original_num
        // output: none
        // return: boolean representing whether x is a factor of original_num
        function isAFactor(x,original_num) {
            return ((original_num % x) == 0);
        }
        
        function addFactors(factor_arr) {
            sum = 0
            for (i = 0; i < factor_arr.length; i++) {
                sum += factor_arr.at(i);
            }
            return sum;
        }
    </script>
</body>
</html>